<div class="container mt-3">
  <h2>Write a Review</h2>

  <div class="form-group">
    <label for="reviewComment">Review Comment:</label>
    <textarea
      id="reviewComment"
      class="form-control"
      [(ngModel)]="reviewComment"
    ></textarea>
  </div>

  <div class="form-group">
    <label for="starRating">Rating:</label>
    <div class="star-rating">
      <span
        class="star"
        *ngFor="let star of stars"
        [class.active]="isStarActive(star)"
        (click)="setRating(star)"
        >&#9733;</span
      >
    </div>
  </div>

  <button type="button" class="mb-5 btn btn-primary col-3 text-center bbo b11" style="border: 1px solid #937DC2 !important;background-color: #937DC2; color: white !important;" (click)="submitReview()" > Submit Review</button>
 

  <div *ngIf="errorMessage" class="alert alert-danger mt-3">
    {{ errorMessage }}
  </div>
@if(allreview )
{
  <div class="mt-3">
    <h2>Reviews</h2>
    <div *ngFor="let savedReview of allreview" class="review-box">
      <h5>By: {{savedReview.fname || "UNKNOWN"}}</h5>
      <p>{{ savedReview.comment }}</p>
      <div class="star-rating">
        <span
          class="star"
          *ngFor="let i of generateStarsArray(savedReview.rating)"
        >
          &#9733;
        </span>
      </div>
    </div>
  </div>
  }
</div>
